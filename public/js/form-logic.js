// Este código asume que ya has inicializado Firebase en tu HTML.
// Configuración de Firebase
var firebaseConfig = {
  apiKey: "AIzaSyCwD-hcUn3fn7MYgPZ_AOb9lGTDUVd8Ju8",
  authDomain: "formulario-if---ft.firebaseapp.com",
  projectId: "formulario-if---ft",
  storageBucket: "formulario-if---ft.appspot.com",
  messagingSenderId: "1058547807066",
  appId: "1:1058547807066:web:4c7a3f5e5effd7d2dcf963",
  measurementId: "G-LPNRPXMJLY"
};
// Inicializa Firebase
firebase.initializeApp(firebaseConfig);
var db = firebase.firestore();

document.addEventListener('DOMContentLoaded', function() {
  // Establecer la fecha actual
  const dateInput = document.getElementById('date');
  dateInput.value = new Date().toLocaleDateString('es-MX');

  // Función para generar un nuevo folio
  const generateFolio = async () => {
    // Aquí se supone que tienes una colección 'settings' donde guardas el último folio usado.
    const folioDoc = await db.collection('settings').doc('folio').get();
    const folioData = folioDoc.data();
    const newFolio = (folioData.currentFolio || 0) + 1;
    
    // Actualizar el folio en la base de datos
    await db.collection('settings').doc('folio').set({ currentFolio: newFolio });

    return newFolio;
  };

  // Asignar el nuevo folio
  generateFolio().then(newFolio => {
    const folioInput = document.getElementById('folio');
    folioInput.value = newFolio;
  }).catch(error => {
    console.error('Error generando el folio: ', error);
  });

  // Lógica para manejar las listas desplegables dependientes
  const areaSelect = document.getElementById('area');
  const budgetItemSelect = document.getElementById('budgetItem');
  const emailField = document.getElementById('correo'); 
  const applicantSelect = document.getElementById('applicant'); // Obtener el select de solicitantes
  const emailApplicant = document.getElementById('correoAplicant'); 
  const proveedores = [
    "Eduardo de Jesus Tapia Lucero",
    "Ricardo de Alba Estrada",
    "Bioscents",
    "Nueva Wal mart de Mexico",
    "GRUPO INDUSTRIAL ROUX",
    "ZEIT KORPORATIV DE MEXICO ",
    "CONCESIONARIA VUELA COMPAÑIA DE AVIACION",
    "ESTACION DE SERVICIO JABA",
    "TRANSPORTES JULIAN DE OBREGON",
    "Vanrenta",
    "ALEJANDRO JOSE MUÑIZ ARELLANO",
    "Servicios Comerciales Amazon Mexico",
    "Tiendas Chedraui",
    "Octavio Enrique del Arco Perez",
    "AEROENLACES NACIONALES",
    "Tiendas Soriana",
    "APV Crecer con Valor",
    "PAULINA GOMEZ GONZALEZ",
    "Gasolinera Tapatia Los Arcos",
    "SERVICIO TERREMOTES",
    "Nadro",
    "ESPECIALISTAS EN SUMINISTROS INDUSTRIALES Y DE COMERCIO",
    "EINAR ZAVALA FLORES",
    "Farmacon",
    "TOTAL PLAY TELECOMUNICACIONES",
    "Network Marketing Production",
    "Hidrosina Plus",
    "SUMINISTROS ENERGETICOS DE CALIDAD",
    "Nueva Wal mart de Mexico, Nueva Wal mart de Mexico",
    "SERVICIOS ECOLOGICOS MAYAPAN",
    "Alejandro Gonzalez Torres",
    "DIGITAL SOLUTIONS AMERICAS",
    "RADIOMOVIL DIPSA",
    "ENRIQUE GUERRERO REYNOSO",
    "AUTO EXPRESS 24 HORAS LOGISTIC",
    "PETROMAX",
    "PRESTOMYC",
    "TOTAL BOX",
    "Autos Pullman",
    "Cafe Sirena",
    "TELEFONOS DE MEXICO",
    "BOX-MART",
    "UBICTUM",
    "BBVA BANCOMER",
    "BTL BETTERLAND",
    "HOTEL LMECO",
    "ESTACION TALLERES",
    "IMPRESOS COPITEK",
    "Distribuidora Arca Continental",
    "Servicio el Rescaño",
    "APTAR QUERETARO",
    "Cortes & Cortes SC",
    "Imagen y Desarrollo Espectacular",
    "Millennium Storage",
    "BBVA Seguros México, Grupo Financiero BBVA México",
    "Esco Will Envases pet",
    "TEEM FINANCIALITE",
    "Carvajal Tecnologia y Servicios",
    "Pase Servicios Electronicos",
    "Sistemas Integrales de Registro y Estadistica",
    "Time Tracker de Mexico",
    "IDESK MEXICO",
    "SECRETARIA DE MARINA",
    "Flogas",
    "Josemaria Gonzalez Rul Rivero",
    "OFFICE DEPOT DE MEXICO",
    "TRANSPORTACION TERRESTRE NUEVA IMAGEN",
    "Aerovias de Mexico",
    "Novogas Guadalajara Vallarta",
    "RRS Abogados",
    "SUPER SERVICIO CARRETERA",
    "Autotransportes de Carga Tresguerras",
    "SERVICIO ALFONSO XIII",
    "DHL Express México",
    "BELL FLAVORS & FRAGRANCES DE MEXICO ",
    "Costco De Mexico",
    "Gibran Alonso Espinoza Cruz",
    "KSTRT",
    "Servicio Las Peñas",
    "TIKTOK MEXICO TECNOLOGIA",
    "DEREMATE.COM DE MEXICO ",
    "FACTURIFY",
    "Puerta Cero Parking",
    "SERVICIOS ECOLOGICOS MAR CARIBE",
    "Combustibles y Servicios Quintana roo",
    "DALTON AUTOMOTRIZ",
    "Estafeta Mexicana",
    "GRUPO TREHER",
    "Grow natura ",
    "JORGE HUMBERTO SANCHEZ IBARRA",
    "NARO DE PUEBLA",
    "OPERADORA ERMITA",
    "SOLTAREM",
    "BANCO SANTANDER MEXICO",
    "Boola Igniter agency ",
    "CHEMICO ESPECIALIDADES QUIMICAS",
    "GRUPO SVENSKA",
    "Maria Cruz Lamas Uranga",
    "ODOO TECHNOLOGIES",
    "OXXO",
    "SERVICIOS GASOLINEROS DE MEXICO",
    "SHIPKRAKEN",
    "Transtur Hofra",
    "ARTURO PARRA MACIAS",
    "CFE SUMINISTRADOR DE SERVICIOS BASICOS",
    "CID Centro integrador de datos ",
    "CYNTHIA JANETH ZUÑIGA MORALES",
    "David Mendez Uribe",
    "ETIQUETAS Y TECNOLOGIA POR INTERNET",
    "Maria Isabel Lazo Corvera",
    "OFICCOM PAPELERIA",
    "OZ AUTOMOTRIZ",
    "PACKSYS DISTRIBUCION",
    "ANA ROSA GONZALEZ GUTIERREZ",
    "CORPORACION HOTELERA DE TAPALPA",
    "Inmobiliaria Gladiolas",
    "MADISON AGENCY PARTNERS",
    "MASTER HUMAN SERVICES",
    "MOBILITY DAE",
    "Rogelio Sirahuen II Palomera Jimenez",
    "SERVICIO MEZQUITE",
    "Tendencys Innovations",
    "ABREIKO ",
    "AUTOTRANSPORTACIONES AEROPUERTO",
    "Em pack de Mexico",
    "GRUPO MAYAPACK",
    "Miguel Angel Alcaraz Ceballos",
    "ONLINE CAREER CENTER MEXICO",
    "Obregon Amaral Valencia y Asociados",
    "Olan de Mexico",
    "Operadora de Rassines de Franquicias",
    "PERFUMERICA",
    "Servicio Acapulco Diamante",
    "Servicios Ciudad Jardin",
    "CARBURANTES DEL SURESTE",
    "CEDIQUIM",
    "Ebysos",
    "Administradora de Hoteles GRT",
    "Autoservicio Gasrh",
    "Autotransporte Terrestre De Aeropuerto",
    "CCL CONTAINER ",
    "Distribuidora Liverpool",
    "Estacion de Servicio Monte de la Virgen",
    "GRUPO OCTANO",
    "JOSE IVAN LOPEZ SERRANO",
    "JUAN JOSE ARTEAGA BAÑUELOS",
    "Las torres 6309",
    "MANUEL ALEJANDRO LOPEZ ALDANA",
    "MULTISERVICIOS LAS VARAS",
    "Multiservicios Playa Del Carmen",
    "OXXO, CADENA COMERCIAL OXXO",
    "Pixel Markers Group ",
    "QUIMICA BOSS ",
    "SERGIO IGNACIO MARTINEZ HERNANDEZ",
    "SERVICIO TULCINGO",
    "SERVICIOS ECOLOGICOS CHICHEN ITZA",
    "SONDER STAY MEXICO",
    "ABT2",
    "ALBARRAN VALLARTA",
    "CONXO",
    "COSME GUADALUPE CUETARA SAINZ",
    "Cesar Alberto Cruz Guevara",
    "ELIEZER FUENTES FIGUEROA",
    "ERIC KAYSER MÉXICO",
    "FARMACIAS DE SIMILARES",
    "FONDO NACIONAL DE INFRAESTRUCTURA",
    "Farmacia Guadalajara",
    "GASPAR HERRERA IMPRESORES ",
    "Jorimar Gasolineros",
    "LinkedIn Ireland Unlimited",
    "Mariana Rivas Alvarez",
    "OPERADORA VIPS",
    "SERVICIO BOCA",
    "Turismo Gargo",
    "7ELEVEN MEXICO",
    "AARON URIEL PORRAS HERNANDEZ",
    "ABRAHAM RODRIGUEZ GONZALEZ",
    "AXA SEGUROS",
    "Asociación Mexicana de Estándares para el Comercio Electrónico, Asociación Civil",
    "Autobuses Golfo Pacifico",
    "BELLEPER",
    "CARAJILLO MASARYK",
    "CARLOS MARTIN GARCIA GUTIERREZ",
    "CHRISTIAN SANCHEZ CASTELLANOS",
    "CUARTEL GENERAL DE INVESTIGACION DE MERCADOS",
    "Compensa Metropolitana SA de CV",
    "Ekpark",
    "FLY BY WINGS",
    "Fernando Javier Gonzalez Martinez",
    "Francisco Macias",
    "GRAN CAFE DE LA PARROQUIA DE VERACRUZ",
    "GRUPO GASTRONOMICO FAS",
    "Gastronomica Mezzonot",
    "Grupo Elka",
    "JOSE ANTONIO NIÑO PERALTA",
    "JUAN IGNACIO OROZCO LOZANO",
    "Jorge Luis Sahagun Barajas",
    "Jose Fernando Landeros Garcia",
    "Jose Ramon Tapia Palomera",
    "Lourdes Hernadez Sosa",
    "MANUEL SALVADOR MENDOZA SERENO",
    "MAQUILAS Y SOLUCIONES TECNICAS EFICIENTES Y RENTABLES",
    "MARIANNA GALLO KORKOWSKI",
    "MARTIN DEL CAMPO ZULOAGA DAVID BENJAMIN",
    "Nadia Cardenas Garcia",
    "OPERADORA HB",
    "OPERADORA LA SABANA",
    "Operadora HI la Isla",
    "Operadora OMX.",
    "REFACCIONARIA CAMIONERA Y AUTOMOTRIZ",
    "Radial Llantas",
    "Roberto Rafael Alberto Rodriguez Rodriguez",
    "SERVICIO OPORTO",
    "Servicio Jardines",
    "Servicios Centrales de Cobranza Hotelera",
    "UNIVERSIDAD DE GUADALAJARA",
    "VICTOR ARTURO MEZA BAEZA",
    "ZURICH SANTANDER SEGUROS MEXICO",
    "ALICIA SOLTERO MEZA",
    "ALVARO JIMENEZ TORAL",
    "ARTURO MARTINEZ RAMIREZ",
    "Administradora De Hoteles De Mexico Ig",
    "Armando Hernandez Hernandez",
    "Autoservicio la Playa",
    "BIRDEV",
    "BP Estaciones de servicios energeticos",
    "BRENNTAG MEXICO",
    "CARLOS HERNAN FIGUEROA MARTINEZ",
    "CECILIA ALEJANDRA DELGADO HERNADEZ",
    "CLAUDIA VIRIDIANA MEDINA MORENO",
    "Computadoras y Servicio Diaz SA de CV",
    "DIEGO ROBERTO HERNANDEZ GONZALEZ",
    "David Alberto Suarez Venegas",
    "E y G Distribucion de Suministros",
    "EDITH CARRILLO AYALA",
    "Easytao Comercializadora",
    "GASOLINERA 12 DE DICIEMBRE",
    "GILBERTO JESUS MENDOZA SALINAS",
    "GPDC Estaciones Servicios",
    "GRUPO BARREMSA",
    "GRUPO GASTRONOMICO MARMAC",
    "GRUPO INDUSTRIAL FAMEX ",
    "Gerardo Garcia Zamora",
    "Grupo Ferreteria Calzada",
    "HECTOR MANUEL GUEVARA HERNANDEZ",
    "INMOBILIARIA CISNE CANTOR",
    "IVONNE MARTINEZ VAZQUEZ",
    "Impulmar Alimentos",
    "Integrantes del ejido de San Cristobal Texcalucan",
    "JESUS ADALBERTO CASTAÑEDA MADRIGAL",
    "JESUS BONILLA PULIDO",
    "JOAQUIN CRUZ OJEDA",
    "JOSE ANTONIO SANCHEZ JIMENEZ",
    "JOSE GERARDO GUTIERREZ ARMENTA",
    "JUAN CARLOS DOMINGUEZ LOPEZ",
    "Jorge Elíseo García Ramos",
    "Jorge Leyva Reyes",
    "Jose Luis Garcia Lievanos",
    "Jurisprudencia y Asesoria SC",
    "KIMETRICS",
    "LLUVIA DEL CARMEN ARANDA ZAMORA",
    "LUIS ENRIQUE QUINTERO TORIBIO",
    "Laura Janette Ramirez Lopez",
    "Luis Carlos Quiroz Sambrano",
    "MARTIN GONZALEZ SUAREZ",
    "Manuel Sahagun Flores",
    "Maria del Rosario Zanatta Serrano",
    "Mariann Rivas de Armas",
    "NOVEREK & ASSOCIATES ",
    "OPERADORA EMPORIO VERACRUZ",
    "Operadora De Restaurantes Mexiquense",
    "Operadora de Restaurantes y bares corimo",
    "Operadora de bares y restaurantes Fedoza",
    "PRINT SERVICIOS DIGITALES",
    "RAUL VILLANUEVA GONZALEZ",
    "ROBERT GARCIA JARAMILLO",
    "ROBERTO CARDENAS GONZALEZ",
    "ROXANA ARGELIA SALGADO AYALA",
    "SANDRA EDITH CORTES CAVAZOS",
    "Servicio Cayaco",
    "Servicio Unidos Fortin",
    "Servicios Ecologicos del Mayab",
    "Super Servicio Galvan",
    "TRANSPORTES CASTORES DE BAJA CALIFORNIA",
    "Transportacion Terrestre Turistica De Guerrero",
    "ULISES LOPEZ ENRIQUEZ",
    "VINOS LA NAVAL",
    "ZURICH ASEGURADORA MEXICANA",
    "ADMINISTRADORA DE HOTELES KAAB",
    "ANGELICA MARIA NEGRETE MEZA",
    "AUTOMOVILES GKA DE SATELITE",
    "Abraham Bañuelos Moyado",
    "Administradora de Restaurantes CAF",
    "Alejandro Gutierrez Espinosa",
    "Alejandro Martinez Reyes",
    "Amalec Salazar Robles",
    "Antonio Manzano Flores",
    "Armando Solis Cazares",
    "Asociacion de Nacional de Tiendas y Autoservicios departamentales",
    "BUFETE DE ARQUITECTURA URBANISMO OBRAS Y SERVICIOS DOLIC",
    "CANTINAS AUTENTICAS DE MEXICO",
    "CARLOS ENRIQUE DE LA CRUZ MEJIA",
    "CARNES RAPIDAS DEL SURESTE",
    "CLAUDIA ARLETTE SANCHEZ GARCIA",
    "COMBUSTIBLES ALCE",
    "CORPORATIVO GASTRONOMICO CAMPEL",
    "CORTES Y CORTES",
    "Carlos Diaz Aguirre",
    "Centro gasolinero Animas",
    "Chemlab",
    "Clemente Saucedo Leal",
    "Colon Panificadora de Occidente SA de CV",
    "Combustibles Palma Real",
    "Combustibles Poseidon",
    "Comercializadora de desarrollos y productos publicitarios media mexico",
    "Cristian Alejandro Molina Lopez",
    "DANIEL ALBERTO SEIJO AREVALO",
    "DANIEL BOCANEGRA CRUZ",
    "DANIEL SAUCEDO LOPEZ",
    "DENDHERA IVONNE ORTIZ HERNANDEZ",
    "DIEGO PACHECO RODRIGUEZ",
    "DISTRIBUIDORA PARADOR DEL VIAJERO",
    "DISTRIBUIDORA Y COMERCIALIZADORA MERCANTIL DEL OCCIDENTE",
    "DOMINICO ROMERO LARA",
    "Dassya Teresa Gaxiola Calderon",
    "David Aguilar Camarena",
    "EDGAR OMAR ALVAREZ HERNANDEZ",
    "ELECTRICA VARIEDADES DE GUADALAJARA",
    "ENVAPLAST DE OCCIDENTE GDL",
    "ESTACION DE SERVICIO RAJM",
    "ETN TURISTAR LUJO",
    "Elba Alejandra Rodriguez Anaya",
    "Expo Pack Mexico",
    "FARRAM",
    "FRANCISCO JAVIER RIVERA SIERRA",
    "Faster Logistic Solutions",
    "Fernando Alberto Gutierrez Lopez",
    "Fonda Fina SA de CV",
    "GASTRONOMICA LA AUTOPISTA",
    "GRUPO DUPEROLL",
    "GRUPO GASOLINERO GUISEG",
    "GRUPO LOYGA",
    "GRUPO MEXICANO DE SEGUROS",
    "GUADALUPE CABAÑAS RODRIGUEZ",
    "Gasolinera Patria",
    "Gasolineras las Americas",
    "Gate Retail Onboard Mexico SAPI de CV",
    "Guillermo Gerardo Caballero Villalobos",
    "HK DEL PONIENTE",
    "Hector Huerta Bautista",
    "Hotelera las Haciendas",
    "Hoteles Resort Maya",
    "Hugo Alberto Escobedo Munguia",
    "IGNACIO FLORES CEDANO",
    "IMPULSO Y SOLUCIONES EN TRANSPORTACION PRIVADA",
    "INMOBILIARIA RIO CONSULADO",
    "INTEGRADORA COMERCIAL DE IMPRESOS ",
    "IVAN ALEJANDRO DEL TORO RAMIREZ",
    "Inmobiliaria Keda",
    "Instituto tecnológico y de Estudios Superiores",
    "Isaias Gaytan Camacho",
    "JORGE OLIVARES AVALOS",
    "JOSE CARLOS ROMERO MONCADA",
    "JOSE LUIS DOMINGUEZ CORTES",
    "JUAN CARLOS VAZQUEZ AGUAYO",
    "JUAN IGNACIO SEPULVEDA GONZALEZ",
    "JUAN LUIS VAZQUEZ BUENROSTRO",
    "JUAN NAVARRO MARTINEZ",
    "Jaime Alberto Iñiguez Castillo",
    "Jesus Alberto Quiroz Millan",
    "Jose Luis Esparza Sanchez",
    "Jose Manuel Rosario Romero",
    "Jose Manuel Valdivia Estrada",
    "Jose de Jesus Alvarado Lomeli",
    "KEMA GAS",
    "KWB Y TNK ASOCIADOS",
    "Kraftone",
    "LUIS ALBERTO BAÑUELOS ACEVEDO",
    "LUIS RODRIGO LOPEZ PEZA",
    "La numero uno de cuauhtemoc",
    "Luis Alberto Bonilla Sosa",
    "Luis Garcia Pimentel Ruiz",
    "Luis Manuel Esquivel Dorado",
    "MANUEL MEZA SILVA",
    "MARCOS PICAZO GONZALEZ",
    "MARIA CATALINA PEREZ BENAVIDES",
    "MARIO IVAN CRUZ HERRERA",
    "MARIO ROSAS PORRAS",
    "MARISCOS VILLA RICA MOCAMBO",
    "Maria Eugenia Milagros Del Portillo Aviles",
    "Mario Poctzin Hernadez",
    "Michele Javier Covarrubias Araiza",
    "Minerva Garduño Arzave",
    "Mueblexel",
    "Naviera Ocean Gm",
    "Neftali Vazquez Avila",
    "Norman Rocha Salazar",
    "OMAR BEJARANO ESPINDOLA",
    "OPERADORA DE RASSINES DE FRANQUISIAS",
    "OSCAR ALEJANDRO BARAJAS SANCHEZ",
    "Octavio Alberto Torres Zermeño",
    "Ofix",
    "Operadora Restaurantera Sesame",
    "PARK AUTO",
    "PLASTICOS ATIZAPAN ",
    "PROVEEDORA DE RINES Y LLANTAS MONTERREY",
    "Plaza Comercial Puebla",
    "REPRESENTACIONES DE EXPOSICIONES MEXICO",
    "RESTAURANTES TOKS",
    "RH LA MORIN",
    "RICARDO UZZIEL HERNANDEZ RODRIGUEZ",
    "RUBEN HUERTA ESCOBAR",
    "Rafael Jimenez Rodriguez",
    "Rafael Sanchez Venegas",
    "SERGIO DANIEL BELTRAN RAYAS",
    "SERVICIO BRISEÑO",
    "SERVICIO CIMOVI",
    "SERVICIO RIO HONDO",
    "SERVICIOS TOKS",
    "SEVEN SERVICE",
    "SOFIMEX, INSTITUCION DE GARANTIAS",
    "SUPER SERVICIO NAUMEX",
    "Sartek ingenieria y servicios",
    "Sergio Gomez Morones",
    "Servicio Camper SA de CV",
    "Servicios Sol Nuevo SA de CV",
    "Servicios de Transporte Sitadino",
    "Susana Rodriguez Perez",
    "TAQUITOS DE MEXICO",
    "TICKET TOURS",
    "TPS EMPRESARIAL",
    "TRANSPORTES Y ENVIOS DE GUADALAJARA",
    "TU MEJOR OPCION EN OFICINAS",
    "Transportes Sanchez Barcelata",
    "Victor Manuel Galan Paez",
    "WENDY ISABEL NAVARRETE NAVARRETE",
    "Zirat Gonzalez Montero",
    "AAA COSMÉTICA ",
    "ADMINISTRADORA DE CENTROS COMERCIALES SANTA FE",
    "ADRIAN LOZANO GONZALEZ",
    "ALBERTO ALONSO RODRIGUEZ ESTRADA",
    "ALDAN ELECTRONICA SA DE CV",
    "ALICIA HUERTA RODRIGUEZ",
    "ALMACEN GOURMET SA DE CV",
    "ANADIM",
    "ANGELICA MARIA ROSAS ROMO",
    "ANTON DEL BAJIO",
    "ARREDONDO VILLANUEVA HERMANOS",
    "AUTOCIRC",
    "AUTOMOTRIZ ROMUJA",
    "Administradora de Hoteles Mexico Ig",
    "Administradora romo para plataformas digitales de transporte privado",
    "Aerocomercializadora del pacifico",
    "Aerocomidas",
    "Alan Alejandro Rivas Islas",
    "Alejandro Lopez Guzman",
    "Alejandro Zamora Conde",
    "Angel Meza Notario",
    "Ansomori",
    "Ariel Isaac Rodriguez Batun",
    "Armando Omar Lara Valderas",
    "Armando Saldivar Torres",
    "Asadero Santa FE",
    "Asesores y soluciones en Color",
    "Aurelio Velazquez Flores",
    "Auto servicio tonala",
    "Autobuses de la piedad",
    "BALLARO",
    "BARES DIVERSOS",
    "BERTRAND EMMANUEL RUIZ CAMACHO",
    "BOICOT CAFE",
    "Benito Juarez Cano",
    "Bioscents, Gabriela Lopez",
    "Boga Servicios Empresariales",
    "Boxxer Ttl",
    "CARLOS ALEJANDRO ALONSO DOMINGUEZ",
    "CARLOS HIRAM MARTIN MERINO",
    "CATALINA DURAN MEJIA",
    "CCREN SOLUCIONES",
    "CENTRO SOCIAL COYOACANENSE",
    "COMBUSTIBLES DE LA BAHIA",
    "COMBUSTIBLES DE TULUM Y DEL CARIBE",
    "COMERCIAL ARIETE",
    "COO170510FI0",
    "CYNTHIA PAULINA VARGAS RODRIGUEZ",
    "Carlo Vinicio Arrayga González",
    "Centro Barbado",
    "Combu express",
    "Combustibles Platon",
    "Combustibles de yucatan",
    "Consorcio del Mayab",
    "Construcciones Plaza",
    "Construvid",
    "Contrato de Fideicomizo de Actividades Empresarial",
    "Corporativo Gasolinero del Caribe",
    "Credito Automotriz BBVA Bancomer",
    "DANIEL DAVALOS SANDOVAL",
    "DAVID AMBARIO SANCHEZ",
    "DC Mayorista SA de CV",
    "DECRAB ALTAVISTA",
    "DELICIAS ORANGE",
    "DOORIBABIES",
    "DPS MEXICANA",
    "Daniel Aguilar Arias",
    "Daniel Alejandro Rojas Godoy",
    "Datos Automaticos de Mexico",
    "Dluxus Brokers mx",
    "E&E Answer Mexico",
    "EDITH ALEJANDRA GUTIERREZ SALAS",
    "EDUARDO GEOVANNI SIGALA ESPINOZA",
    "ESTACION DE SERVICIO LOS AVALLANOS",
    "ESTACION DE SERVICIOS MERICAM",
    "ETN Turistar Lujo",
    "Edgar Santa Cruz Duran",
    "Efren Maldonado Sepulpeda",
    "Elba Lorena Aguilar Romero",
    "Elihu Herrera Diaz",
    "Elsa Gabriel Martinez Castillo",
    "Esteban Roman Torreblanca Villanueva",
    "Eustacio Alberto Barba Barrera",
    "FECEBA",
    "FEDERAL EXPRESS HOLDINGS (MEXICO) Y COMPAÑIA",
    "FERNANDO CARDENAS PIÑA",
    "FRANCISCO JAVIER JAUREGUI NAVARRO",
    "Fantasias Miguel",
    "Farvisan Insumos Institucionales",
    "Federico Roldan Garcia",
    "Francisco Antonio Tejeda Luevano",
    "Francisco Javier Jimenez Nuñez",
    "Francisco Lazaro Calleja",
    "Fulgencia Lorenzo Gutierrez",
    "GASOLINERA BECMO",
    "GASOLINERA INFOVEGAS",
    "GASOLINERA MIRAMONTES SA DE CV",
    "GASOLINERIA LAS PALMAS",
    "GRUPO BEGUCA PEONIA",
    "GRUPO GASTRONOMICO ALTAMA",
    "GRUPO OFICIAL",
    "GUILLERMO RENE JUAREZ RIVAS",
    "GURVA CONSULTORES",
    "Gibran Salvador Dueñas Chavez",
    "Gloria Rosales Hernadez",
    "Goda Alimentos Sayavera",
    "Griselda Carolina Beltran Solis",
    "Grupo Altamirano Monroy",
    "Grupo Tambre",
    "HECTOR IGNACIO GONZALEZ ROJAS",
    "HOME DEPOT MEXICO",
    "HYPER PINTURAS, S.A. DE C.V.",
    "Hector Lopez Perez",
    "Hotel la kabah",
    "Hotelera San Jorge del Matatipac",
    "Hoters de Mexico",
    "IDESK MEXICO",
    "INMOBILIARIA COSTA CALIDA",
    "INMOBILIARIA LIRCA",
    "ISRAEL ZEPEDA ALATORRE",
    "Inmobiliaria del Zazil ha",
    "JIANLONG JIANG",
    "JOHNY SEGUNDO SOBERANO",
    "JORGE ALBERTO MAYA CERVANTES",
    "JOSE ANTONIO MALDONADO GARCIA",
    "JOSE DANIEL ESCOTO VAZQUEZ",
    "JOSE GUADALUPE RIVERA ESCAMILLA",
    "JUAN DE ANDA HERNANDEZ",
    "JUAN GUILLERMO HUIZAR RUIZ VELASCO",
    "JUAN ROSENDO MONDRAGON CASTREJON",
    "Johny Segundo Soberano",
    "Jorge Luis de la Rosa Guinto",
    "Jose Antonio Lara Garcia de leon",
    "Jose Fernando Perez Gonzalez",
    "Jose Gonzalez Carreon",
    "Juan Antonio Ramirez Valencia",
    "Juan Manuel Espinoza Rojas",
    "Juan Manuel Garibaldi Ibarra",
    "Juana Aracen Toledo",
    "Julio Cesar Contreras Nuño",
    "LOS CANARIOS DE SANTA FE",
    "LOWE AND PARTNERS",
    "LUIS ACLE VARGAS",
    "LUIS FERNANDO GARCIA FREGOSO",
    "LUISA XIMENA GARCIA CORTES",
    "La Bamba Mariscos",
    "La Europea Mexico",
    "La autentica parroquia",
    "LaEuropeaMexico",
    "Lega Servicios Corporativos Integrex",
    "Leobardo Cesar Andres Flores Ceja",
    "Lopez vergara y cia (Notaria 9 y 41)",
    "Luis Alfonso Castillo Tapia",
    "MAGNA OPERADORA TURISTICA",
    "MANUFACTURERA DE CINTAS ADHESIVAS",
    "MARCO ANTONIO ZAMORA MARTINEZ",
    "MARIA DEL ROSARIO RAMIREZ GARCIA",
    "MARIA FERNANDA REGALADO OLVERA",
    "MARIO ALEJANDRO SANCHEZ SIMANCAS",
    "MARIO DAVID SAUCEDO URTIZ",
    "MARIO VELAZQUEZ VAZQUEZ",
    "MARISCOS SI HAY PASE USTED",
    "MARTHA CATALINA ALVARADO MEDINA",
    "MAURICIO GARCIA JARQUIN",
    "MIREN KARMELE NAVARRO FISURE",
    "MONETTE ALEXANDRA SCHIVRE ZURITA",
    "Manuel Jesus Gonzalez Velazquez",
    "Marco Antonio Franco Bolaños",
    "Margarito Ibañez Amaya",
    "Maria Elisa Martinez Loera",
    "Maria Irma Alejandra Muñoz Romero",
    "Maria Teresa Ornelas Regil",
    "Mariano De La Torre Arce",
    "Maritza Olguin Lopez",
    "Marnapa",
    "Martha Ileana Torrez Esparza",
    "Martin Hernandez Garcia",
    "Miguel Angel Corona Medina",
    "NOE ROGELIO FIGUEROA SEGOVIA",
    "Newcity the park",
    "Nova Alimentos de Mexico",
    "OLIVER EDUARDO RIVERA OCHOA",
    "OMAR GUADARRAMA LOPEZ",
    "OPERADORA DE MARISCOS SAVE",
    "OPERADORA HOTELERA EM",
    "OPERADORA NORTEAMERICANA DE FRANQUICIAS",
    "Octavio Paz Gonzalez Cabrera",
    "Ofir tours",
    "Omar Eduardo Herrera Negrete",
    "Operadora KFC",
    "PAULINA LIZMEY VARGAS SANCHEZ",
    "PETRO TUR",
    "PEVR881127L25",
    "PHARMA PLUS",
    "Pampas GDL",
    "Pietra e matonni",
    "Piramide Fisher S",
    "Plasticos y desechables el Carrusel",
    "Porfirio Jacobo Juarez",
    "Promotora Hotelera de Veracruz",
    "Punto digital y punto SA de CV",
    "R&D Management Services",
    "RAUL ALEJANDRO MENDOZA VELAZQUEZ",
    "RAYMUNDO VELAZQUEZ SALIINAS",
    "RECONOCIMIENTOS CREATIVOS",
    "RIGER GEOVA GONZALEZ SABIDO",
    "RIGOBERTO GINES DIAZ",
    "ROBERTO HERNANDEZ SOTO",
    "ROGELIO GOMEZ ORTIZ",
    "Raymundo Roman Lopez Hernandez",
    "Reposteria Odette SA de CV",
    "Restacaribe",
    "Ricardo Miguel Ramirez Garcia",
    "Roberto Ignacio Grajeda Manzo",
    "Roel Eduardo Gonzalez Torrez",
    "Rubalcaba Fantasias y Novedades",
    "Ruben Flores Avalos",
    "SADI RESTAURANTES",
    "SALVADOR GUTIERREZ SEGURA",
    "SERVICIO AUTOMOTRIZ JEMA",
    "SERVICIO CHIT",
    "SERVICIO CUAJIMALPA",
    "SERVICIO LA GRIEGA SA DE CV",
    "SERVICIO LAS JUNTAS",
    "SERVICIOS FELUSA",
    "Sergio Enrique Parra Saldaña",
    "Servicaña",
    "Servicios Inteligentes Flomar",
    "Soci Del Sud",
    "Soy QR",
    "Soya Gas",
    "Susana Daniela Monreal Martinez",
    "TECNOLOGIA EN CELULARES SCELR",
    "TRANSPORTADORA DEMOVAL",
    "Transportaciones Puerto Vallarta",
    "Un dos Tres por mi y todos mis amigos",
    "VALLARTA INN",
    "Valery Vianey Gutierrez Veraza",
    "Victor Hugo Lozano Chavez",
    "YAEL GOMEZ BAYARDO",
    "Ya Jalau",
    "AIR LOGISTICS GPS",
    "ALEJANDRO JOSE",
    "ALEJANDRO MANUEL GONZALEZ VARGAS",
    "ALIMENTOS ARABES JPJ",
    "ANGEL BALTAZAR PUENTES GARCIA",
    "ANTONIO DE JESUS TORRES LIRA",
    "ARTURO ROSAS PEREZ",
    "AUTOPISTAS DE GUERRERO",
    "AUTOTRANSPORTES ESTRELLA ROJA DEL SUR",
    "Alma Delia Gonzalez Paez",
    "BLANCA ARACELI DIAZ MARTIN",
    "Bonfilia Palacios Suazo",
    "CARLOS SILVA PEREZ",
    "Control Legal Fiscal & Auditoria",
    "DETECNO",
    "Deremate.com de Mexico",
    "ESIANLAB",
    "ESIC",
    "ESTACION DE SERVICIO BOLONIA",
    "ESTACION DE SERVICIO EL POLVORIN",
    "ESTRELLA DE ORO MEXICO-ACAPULCO-ZIHUATANEJO",
    "Farmacia Guadalajara",
    "Farmacia Guadalajara, FARMACIA GUADALAJARA",
    "Fly By Wings",
    "Frozentech",
    "GASOIL TECNOLOGIAS",
    "GASOLINERA MARTIN",
    "GASOLINERA PLAZA DEL SOL",
    "GRUPO PAMIFE ",
    "Grupo Gravioto Distribuciones",
    "HOTEL ENSENADA",
    "HectorJavier Garcia Granados",
    "INGRAPHOS",
    "JAIR ALEJANDRO MORAN HERNADEZ",
    "JOSE DE JESUS AGUILAR CANELA",
    "KAREN IVETTE PINEDO GONZALEZ",
    "KESNIEL ALEXIS CHAVEZ WONG",
    "KRAFTONE, KRAFTONE",
    "LUIS RAUL ROMAN SANCHEZ",
    "Los Cevichitos",
    "MARIA DEL ROCIO BALTAZAR HUERTA",
    "MULTIMPRESOS GRAFICOS",
    "Martha Ileana Torrez Esparza",
    "Master Tech",
    "OXXO, Almacen Juan Gil Preciado",
    "OXXO, Javier Montes",
    "Operadora Turística Modum",
    "REPOSTERIA PAULETTE ",
    "SERGIO RICARDO JIMENEZ PEÑA",
    "SERVICIO ALFONSO XIII",
    "SERVICIO MINERVA DE GUADALAJARA",
    "SERVICIO NEZAHUALCOYOTL",
    "TONY TIENDAS",
    "TRANSPORTACION TERRESTRES DE PASAJEROS DE AVION",
    "Tarjeta de Credito American Express Julia Salas",
    "VERONICA GUTIERREZ CEBALLOS",
    "boxma",
    "cediquim",
    "roux4"    
]
const providerSelect = document.getElementById('provider');

// Convirtiendo la lista de strings en una lista de objetos para el select
const providersList = proveedores.map(providerName => {
    return { name: providerName, value: providerName }; // Asumiendo que el nombre es también el valor que quieres enviar
});

// Función para añadir opciones al select de proveedores
const addProvidersToSelect = (providers) => {
    // Limpia las opciones existentes
    providerSelect.innerHTML = '';

    // Añade una opción por cada proveedor
    providers.forEach(provider => {
        let option = new Option(provider.name, provider.value);
        providerSelect.add(option);
    });
};

// Llama a la función para añadir los proveedores al select
  // Después de poblar tu select con proveedores
  addProvidersToSelect(providersList);

  // Inicializar Select2 en tu elemento select de proveedores
  $('#provider').select2({
    placeholder: "Selecciona o escribe un proveedor",
    allowClear: true,
    tags: true, // Permite la creación de nuevas opciones
    insertTag: function (data, tag) {
        // Insert the tag at the end of the results
        data.push(tag);
    }
});


  const selectedApplicants = [
    { name: 'Fernando Vargas', email: 'fvargas@biancorelab.com' },
    { name: 'Francisco Macias', email: 'francisco@biancorelab.com' },
    { name: 'Edhson Delgado', email: 'edelgado@biancorelab.com' },
    { name: 'Teresa Hermosillo', email: 'tgallo@biancorelab.com' },
    { name: 'Valeria González', email: 'cobranza@biancorelab.com' },
    { name: 'Christian Loera', email: 'cloera@biancorelab.com' },
    { name: 'Julio López', email: 'jlopez@biancorelab.com' },
    { name: 'Alondra González', email: 'agonzalez@biancorelab.com' },
    { name: 'Carlos Ancona', email: 'carlos@biancorelab.com' },
    { name: 'Eliud Cortes', email: 'ecortes@biancorelab.com' },
    { name: 'Isabel Hérnandez', email: 'ihernandez@biancorelab.com' },
    { name: 'Luis Ceballos', email: 'luis@biancorelab.com' }
];
  const areaToBudgetItems = {
'Comercial': {
      "Licencia de Xtract (Ventas)": "edelgado@biancorelab.com",
      "Asociacion de Nacional de Tiendas y Autoservicios departamentales": "carlos@biancorelab.com",
      "Asociación Mexicana de Estándares para el Comercio Electrónico, Asociación Civil": "carlos@biancorelab.com",
      "Regalos a clientes": "francisco@biancorelab.com",
      "Servicios Comerciales Amazon Mexico": "francisco@biancorelab.com",
      "Bonos de Venta": "cloera@biancorelab.com",
      "Apoyo de Transporte (Ejecutivos - KAMs)": "cloera@biancorelab.com",
      "Capacitación Comercial": "cloera@biancorelab.com",
      "Asesoria Comité Comercial (APV)": "cloera@biancorelab.com",
      "Estudio de mercado Nobook": "cloera@biancorelab.com",
      "Seguro Zurich Santander ZEIT acevedo P.111406051": "cloera@biancorelab.com",
      "Axa Seguros Eduardo Macias Control de gastos medicos P.92484AQ02": "cloera@biancorelab.com",
      "MultipleZurich1 29 0000029815-1 Adolf Horn": "cloera@biancorelab.com",
      "BIANCORE LAB SA DE CV Mariana Rivas DF HYUNDAI": "cloera@biancorelab.com",
      "Mtto de Equipo de Transporte (Mariana)": "cloera@biancorelab.com",
      "Muestras de productos": "francisco@biancorelab.com",
      "Detecno": "francisco@biancorelab.com",
      "AIR Llogistic gps": "francisco@biancorelab.com",
      "Anadim": "francisco@biancorelab.com",
      "Carvajal Tecnologia y Servicios": "francisco@biancorelab.com",
      "Nadro": "francisco@biancorelab.com",
      "Tiendas Chedraui": "francisco@biancorelab.com",
      "Tiendas Soriana": "francisco@biancorelab.com",
      "Time Tracker de Mexico (City Fresko)": "francisco@biancorelab.com",
      "Wendy Isabel Navarrete Navarrete (Buzón Soriana)": "francisco@biancorelab.com"
    },
      'Contabilidad': {
        "IMSS": "cloera@biancorelab.com",
        "RCV - Infonavit": "cloera@biancorelab.com",
        "ISR Sueldos y Salarios": "cloera@biancorelab.com",
        "Impuesto Sobre Nomina Estatal (3%)": "cloera@biancorelab.com",
        "IVA acreditable": "cloera@biancorelab.com",
        "IVA Trasladado": "cloera@biancorelab.com",
        "IVA retenciones a terceros": "cloera@biancorelab.com",
        "ISR retenciones a terceros": "cloera@biancorelab.com",
        "Provisión ISR P.M": "cloera@biancorelab.com",
      },
      'Finanzas': {
        "Renta Oficinas": "cloera@biancorelab.com",
        "Renta Bodega 1 Archivo Fiscal": "cloera@biancorelab.com",
        "Renta Bodega 2 Torre Ganesh": "cloera@biancorelab.com",
        "Refrendos Vehicular": "cloera@biancorelab.com",
        "Arrendamiento (Autos)": "cloera@biancorelab.com",
        "Asesoria Odoo": "luis@biancorelab.com",
        "Asesoria y admon office 365": "luis@biancorelab.com",
        "Asesoria Comité de Finanzas": "luis@biancorelab.com",
        "Asesoria Legal (RRS, Abogados)": "carlos@biancorelab.com",
        "Asesoria Legal": "luis@biancorelab.com",
        "Asesoria Contable y Fiscal": "cloera@biancorelab.com",
        "Luz": "cloera@biancorelab.com",
        "Telefonia y Comunicaciones (Internet)": "cloera@biancorelab.com",
        "Paqueteria y mensajeria": "cloera@biancorelab.com",
        "Licencia Office 365": "luis@biancorelab.com",
        "Licencias Odoo Technologies": "luis@biancorelab.com",
        "Boga Servicios Empresariales (Capacitación admon)": "cloera@biancorelab.com",
        "Seguro Zurich Santander ZEIT acevedo P.111406051": "cloera@biancorelab.com",
        "Axa Seguros Eduardo Macias Control de gastos medicos P.92484AQ02": "cloera@biancorelab.com",
        "Seguro Zurich Santander Luis Ceballos P.1 64 0000045844-1": "cloera@biancorelab.com",
        "BBVA Seguros Vida Crédito Pyme Luis Ceballos Q1NB1801D1": "cloera@biancorelab.com",
        "BBVA Seguros Vida Crédito Pyme Luis Ceballos Q3NB1802UP": "cloera@biancorelab.com",
        "BBVA Seguros Vida Crédito Pyme Luis Ceballos 12MB7000SE": "cloera@biancorelab.com",
        "BBVA Seguros Vida Crédito Pyme Luis Ceballos P016NB7000HT": "cloera@biancorelab.com",
        "MultipleZurich1 29 25116 - 1 AHUIZOTL": "cloera@biancorelab.com",
        "MultipleZurich1 29 0000029815-1 Adolf Horn": "cloera@biancorelab.com",
        "Empresa SeguraBBVA SegurosQ1Nb1801D1 AHUIZOTL": "cloera@biancorelab.com",
        "Resp CivilGMX303-76-07-000106 COSCO": "cloera@biancorelab.com",
        "Empresa SeguraBBVA SegurosP0Q6NB1808X7 AHUIZOTL": "cloera@biancorelab.com",
        "BIANCORE LAB SA DE CV Mariana Rivas DF HYUNDAI": "cloera@biancorelab.com",
        "BIANCORE LAB SA DE CV Luis Ceballos GDL TOYOTA": "cloera@biancorelab.com",
        "Mtto de Equipo de Transporte (Luis)": "cloera@biancorelab.com",
        "Mtto de Equipo de Transporte (Carlos)": "cloera@biancorelab.com",
        "Mtto de Equipo de Transporte (Mariana)": "cloera@biancorelab.com",
        "Mantenimiento Fijo Torre Ganesh": "cloera@biancorelab.com",
        "Mantenimiento Extemporaneo": "cloera@biancorelab.com",
        "Einar Zavala Flores": "cloera@biancorelab.com",
        "Mto de Equipo de Computo": "luis@biancorelab.com",
        "SW Sapien (Timbres fiscales)": "luis@biancorelab.com",
        "KSTRT Alejandro": "luis@biancorelab.com",
        "Accesorios y dispositivos externos": "luis@biancorelab.com",
        "Licencia Municipal": "cloera@biancorelab.com",
        "Libros y revistas": "cloera@biancorelab.com",
        "Papeleria y Articulos de Oficina": "cloera@biancorelab.com",
        "Caja chica": "cloera@biancorelab.com",
        "Apoyo en gasolina": "luis@biancorelab.com",
        "Combustibles y Lubricantes": "luis@biancorelab.com",
        "Viaticos Mid-Office": "luis@biancorelab.com",
        "No deducibles": "luis@biancorelab.com",
        "Detecno": "francisco@biancorelab.com",
        "AIR Logistic gps": "francisco@biancorelab.com",
        "Anadim": "francisco@biancorelab.com",
        "Carvajal Tecnologia y Servicios": "francisco@biancorelab.com",
        "Nadro": "francisco@biancorelab.com",
        "Tiendas Chedraui": "francisco@biancorelab.com",
        "Tiendas Soriana": "francisco@biancorelab.com",
        "Time Tracker de Mexico (City Fresko)": "francisco@biancorelab.com",
        "Wendy Isabel Navarrete Navarrete (Buzón Soriana)": "francisco@biancorelab.com",
        "Credito BBVA 1 6269": "cloera@biancorelab.com",
        "Credito BBVA 2 5020 (15.7668%)": "cloera@biancorelab.com",
        "Credito BBVA 3  Simple (9.57%)": "cloera@biancorelab.com",
        "Credito BBVA simple PYME 4  2970 (17.75%)": "cloera@biancorelab.com",
        "Intereses ordinarios por créditos - Credito BBVA 1": "cloera@biancorelab.com",
        "Intereses ordinarios por créditos - Credito BBVA 2 15.7668%": "cloera@biancorelab.com",
        "Intereses ordinarios por créditos - BBVA 3 9.57%": "cloera@biancorelab.com",
        "Intereses ordinarios por créditos - BBVA simple PYME 4 17.75%": "cloera@biancorelab.com",
        "Intereses ordinarios por créditos - Santander Crédito Ágil": "cloera@biancorelab.com",
        "Intereses Carlos": "cloera@biancorelab.com",
        "Intereses Ivette": "cloera@biancorelab.com",
        "Comisiones Bancarias": "cloera@biancorelab.com",
        "Comisiones por aperturas de creditos (2.5% Sobre monto de crédito)": "cloera@biancorelab.com",
        "Gastos Financieros (Factoraje)": "luis@biancorelab.com",
        "Tarjeta de Credito American Express": "luis@biancorelab.com",
        "Utilidad o Perdida Cambiaria": "cloera@biancorelab.com",
        "dev": "edelgado@biancorelab.com",
      },
      'I + D': {
        "Analisis microbiologicos": "carlos@biancorelab.com",
        "Irritabiidad y sensibilidad": "carlos@biancorelab.com",
        "Prorrogas de registro": "carlos@biancorelab.com",
        "Proveeduría": "carlos@biancorelab.com",
        "Benchmarck": "carlos@biancorelab.com",
        "Compra de información (data)": "carlos@biancorelab.com",
        "Elaboración de prototipo": "carlos@biancorelab.com",
        "GS1": "carlos@biancorelab.com",
        "Hosting Web": "carlos@biancorelab.com",
        "Dominio - biancorelab.com": "carlos@biancorelab.com",
        "Dominio - safty.com.mx": "carlos@biancorelab.com",
        "Viaticos i+d": "carlos@biancorelab.com",
        "Dominio - safty.mx": "carlos@biancorelab.com",
        "Dominio - safty.mx (página web)": "carlos@biancorelab.com",
        },
        'Mkt': {
          "Licencia de Adobe": "carlos@biancorelab.com",
          "Banco de imagens (envato)": "carlos@biancorelab.com",
          "Estudio de mercado Nobook": "carlos@biancorelab.com",
          "Viaticos Presidente Comité I + D": "carlos@biancorelab.com",
          "Muestras de productos": "francisco@biancorelab.com",
          "Estudios de mercado (resto)": "carlos@biancorelab.com",
          "Cosmoprof Las Vegas": "carlos@biancorelab.com",
          "Servicios de Consultoria de Estratgia (Alberto)": "carlos@biancorelab.com",
          "Promoción": "carlos@biancorelab.com",
          "Demos Bye Bites": "carlos@biancorelab.com",
          "Expo Chedraui": "carlos@biancorelab.com",
          "Expo Walmart": "carlos@biancorelab.com",
          "Find Keepers": "carlos@biancorelab.com",
          "Branding (POS)": "carlos@biancorelab.com",
          "Espectacular Vallarta": "carlos@biancorelab.com",
          "Espectacular CDMX": "carlos@biancorelab.com",
          "Medios": "carlos@biancorelab.com",
          "Página web - biancorelab.com": "carlos@biancorelab.com",
          "Página web - biancorelab.usa": "carlos@biancorelab.com",
          "Página web - byebites.usa": "carlos@biancorelab.com",
          "Página web - proself.usa": "carlos@biancorelab.com",
          "Merchandising - Bye Bites": "carlos@biancorelab.com",
          "Merchandising - Proself": "carlos@biancorelab.com",
        },
        'Recursos Humanos / DO': {
          "Kit de Bienvenida": "cloera@biancorelab.com",
          "Créditos OCC (Bolsa de trabajo)": "cloera@biancorelab.com",
          "Créditos OCC Linkedin (Bolsa de trabajo)": "cloera@biancorelab.com",
          "Créditos OCC Computrabajo (Bolsa de trabajo)": "cloera@biancorelab.com",
          "Examenes Psicométricos": "cloera@biancorelab.com",
          "Seguro de gastos Medicos Mayores": "cloera@biancorelab.com",
          "Apoyo de Transporte (Ejecutivos - KAMs)": "cloera@biancorelab.com",
          "Uniformes": "cloera@biancorelab.com",
          "Capacitación Comercial": "cloera@biancorelab.com",
          "Capacitación Contabilidad - Finanzas - Operaciones": "cloera@biancorelab.com",
          "Capacitación I + D": "cloera@biancorelab.com",
          "Cumpleaños": "cloera@biancorelab.com",
          "Evaluación de Clima Laboral": "cloera@biancorelab.com",
          "Evaluación NOM035": "cloera@biancorelab.com",
          "Estudio de Sueldos 2024": "cloera@biancorelab.com",
          "Posada - Convención": "cloera@biancorelab.com",
          "Reconocimientos": "cloera@biancorelab.com",
          "Honorarios Juridicos (Miguel Angel ALcaraz Ceballos)": "cloera@biancorelab.com",
          "Asesoria Direccion (APV)": "luis@biancorelab.com",
          "Asesoria Comité Comercial (APV)": "carlos@biancorelab.com",
          "Asesoria Comité I+D (APV)": "carlos@biancorelab.com",
          "Cuota Sindical": "cloera@biancorelab.com",
          "Articulos de Limpieza y Cocina": "cloera@biancorelab.com",
          "Articulos de Cafeteria": "cloera@biancorelab.com",
          "Botiquin": "cloera@biancorelab.com",
            
        },
        'Trade Mkt': {
          "Credenciales Promotores - comerciales": "francisco@biancorelab.com",
          "Licencia Field (Trademkt)": "francisco@biancorelab.com",
          "Concursos - Chedraui": "francisco@biancorelab.com",
          "Concursos -Mayoristas": "francisco@biancorelab.com",
          "Concursos -Promotores": "francisco@biancorelab.com",
          "Sampling - Sachet Crema PROSELF (Envios)": "francisco@biancorelab.com",
          "Sampling - Crema Baby (envios)": "francisco@biancorelab.com",
          "Sampling - Club de Golf": "francisco@biancorelab.com",
          "Sampling - Expo Chedraui": "francisco@biancorelab.com",
          "Sampling - Expo Walmart": "francisco@biancorelab.com",
          "Sampling - Expo Soriana": "francisco@biancorelab.com",
          "Sampling - ANADIM": "francisco@biancorelab.com",
          "Exhibición - Soriana": "francisco@biancorelab.com",
          "Exhibición - Walmart Connect BB": "francisco@biancorelab.com",
          "Material POP - Bye Bites": "francisco@biancorelab.com",
          "Material POP - Proself": "francisco@biancorelab.com",
          "Material POP - Fajin / Liston Regalo PROSELF": "francisco@biancorelab.com",
          "Apoyo de Transporte (Promotoria)": "francisco@biancorelab.com",
          "Viaticos Promotores Foraneos": "francisco@biancorelab.com",
          "Herramientas": "francisco@biancorelab.com",
          "Demo Pto Vta": "francisco@biancorelab.com",
          "Demo Huatulco": "francisco@biancorelab.com",
          "Demo Tulum": "francisco@biancorelab.com",
          "Vuelos 1": "francisco@biancorelab.com",
          "Transporte 1": "francisco@biancorelab.com",
          "Alimentos 1": "francisco@biancorelab.com",
          "Hospedaje 1": "francisco@biancorelab.com",
          "Vuelos 2": "francisco@biancorelab.com",
          "Transporte 2": "francisco@biancorelab.com",
          "Alimentos 2": "francisco@biancorelab.com",
          "Hospedaje 2": "francisco@biancorelab.com",
        }
    };
    selectedApplicants.forEach(applicant => {
      let option = new Option(applicant.name, applicant.email); // Usa el email como valor
      applicantSelect.add(option);
    });
    
    applicantSelect.addEventListener('change', function() {
      emailApplicant.value = this.value; // Actualiza el campo de correo con el valor seleccionado (email)
    });
    
    areaSelect.addEventListener('change', function() {
      const selectedArea = this.value;
      const budgetItems = areaToBudgetItems[selectedArea] || {};
      budgetItemSelect.innerHTML = ''; // Limpiar las opciones existentes
    
      Object.keys(budgetItems).forEach(budgetItem => {
          let email = budgetItems[budgetItem]; // Obtiene el correo electrónico asociado
          let option = new Option(budgetItem, budgetItem); // Asigna el nombre del rubro como valor del option
          budgetItemSelect.add(option);
      });
    
      // Actualizar el correo basado en la primera selección o dejarlo para el evento change
      if (Object.keys(budgetItems).length > 0) {
        emailField.value = budgetItems[Object.keys(budgetItems)[0]]; // Establece el correo del primer rubro
      }
    });
    
    // Evento de cambio para el selector de rubros
    budgetItemSelect.addEventListener('change', function() {
      const selectedBudgetItem = this.value; // El nombre del rubro seleccionado
      const email = areaToBudgetItems[areaSelect.value][selectedBudgetItem]; // Obtiene el correo usando el área y el rubro seleccionado
      emailField.value = email; // Actualiza el campo de correo electrónico
    });
    // Población inicial de las áreas
    Object.keys(areaToBudgetItems).forEach(area => {
      let option = new Option(area, area);
      areaSelect.add(option);
    });
    
    // Disparar el evento change manualmente para cargar los rubros iniciales
    areaSelect.dispatchEvent(new Event('change'));



  // Enviar el formulario completo
  document.getElementById('enviar').addEventListener('click', async () => {
    // Asegúrate de que todas las validaciones del formulario se han pasado antes de ejecutar esto

    // Recopilar información del formulario
    const miFormulario = {
      applicant: document.getElementById('applicant').value,
      productService: document.getElementById('productService').value,
      quantity: document.getElementById('quantity').value,
      provider: document.getElementById('provider').value,
      description: document.getElementById('description').value,
      expenseAmount: document.getElementById('expenseAmount').value,
      paymentForm: document.getElementById('paymentForm').value,
      correoAplicant: document.getElementById('correoAplicant').value,
      area: areaSelect.value,
      budgetItem: budgetItemSelect.value,
      date: dateInput.value,
      correoAplicant: emailApplicant.value,
      folio: document.getElementById('folio').value,
      signatureApplicant: signaturePadApplicant.toDataURL(),
    };

    // Guardar en Firestore
    try {
      const docRef = await db.collection('peticiones').add(miFormulario);
      console.log('Requisición guardada con ID: ', docRef.id);
      // Aquí podrías redirigir al usuario o mostrar un mensaje de éxito
    } catch (error) {
      console.error('Error guardando la requisición: ', error);
      // Aquí podrías mostrar un mensaje de error
    }
  });

  // Iniciar la selección de área para cargar los rubros presupuestales
  areaSelect.dispatchEvent(new Event('change'));
});

